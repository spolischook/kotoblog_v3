---
author: "Serhii Polishchuk"
title: "Еталонні моделі OSI та TCP/IP"
date: 2020-04-07
tags: []
draft: true
---
<!--more-->
## Стуктура мереж

Мережі та ПЗ, що забезпечує функціональність мереж,
має складну структуру, яку розділяють на ієрархічні 
**шари (рівні)** для спрощення проектування та обслуговування.  
Шари інкапсулюють певну частину функціональності мережі
та надають набір деяких сервісів для шарів верхнього рівня.

При з'єднанні двох машин мережею, рівень мережі n першої машини
підтримує зв'язок з рівнем n другої машини по **протоколу** рівня n.
Узгодження протоколу відбувається на етапі підключення двох машин.


![Шари, протоколи та інтерфейси](https://d2ck16jxw8uc3k.cloudfront.net/Articles/132-osi-and-tcp-ip-network-models/layers_protocols_and_interfaces.jpg)

**Рис.1** *Шари, протоколи та інтерфейси мережі*

Така віртуальна комунікація рівнів (пунктирні стрілки), досягається
шляхом комунікації шарів від верхнього вниз аж до фізичного рівня
через інтерфейси відповідних рівнів (суцілні стрілки).  
Кожен інтерфейс - це набір операцій які нижній шар надає верхньому.
Таким чином, реалізація кожного рівня може бути змінена
за умови збереження інтерфейсу.

**Архітектурою мережі** називають набір рівнів і протоколів.
А набір протоколів які використовцються рівнями для комунікацї
з рівнями іншої системи називають **стеком протоколів**

Більш детально схему роботи 5-ти рівневої мережі представлено на Рис.2
Рівень 5 передає повідомлення (Message M) на рівень 4 для доставки на приймаючу машину.
Рівень 4 додає до повідомлення заголовок (Header H), який включає допоміжну інформацію.

![Шари, заголовки та контрольна сумма](https://d2ck16jxw8uc3k.cloudfront.net/Articles/132-osi-and-tcp-ip-network-models/layers_headers_trailers.jpg)

**Рис.2** *Приклад роботи п'яти рівневої мережі*

Повідомлення на рівні 4, у більшості мереж, не обмежується за розміром,
проте такі обмеження накладаються на рівень 3, який в свою чергу розбиває
месседж на більш дрібні частини (пакети), додаючи до кожного свої заголовки.
На рис. 2 рівень 3, розбив повідомлення на два пакети M1 та M2 і додав до кожного 
заголовок H3.

Рівень 2, не тільки додає відповідні заголовки, але й додає контрольну сумму (trailer)
в кінці пакету, після чого передає пакети фізичному рівню 1, для їх фактичної передачі.

На приймаючій машині, повідомлення рухаюється з низу вгору і на кожному з рівнів 
заголовки зчитуються та прибираються. Тобто заголовки нижніх рівнів недоступні для верхніх.

В архітектурі мережі важливо правильно розрізняти і розуміти **різницю між інтерфейсом і протоколом**.
Рівні 4 на обох машинах спілкуються між собою (віртуально) за допомогою *протоколу*,
кожен з них отримує і передає данні (пакети) на іншу сторону на той самий рівень.
Фактично (реально), спілкування між ними відбувається через *інтерфейс* з рівнем 3.

Таким чином, за допомогою протоколів та інтерфейсів досягається абстрація та інкапсуляція
рівнів у мережі, що дозволяє гнучкіше та простіше проетувати мережу.


### Фундоментальні проблеми рівнів

Стійкість (Reliability) - це здатність мережі, яка слкладається з багатьох ненадійних компонентів, справно функціонувати. Ми можемо лише уявити нолики та одинички які переміщаються по мережі, і скільки з них може бути інвертовано або взягалі знищено по дорозі. Який шанс що ми знайдемо і виправимо помилку?

Одним із варіантів вирішення данної проблеми є *знаходження помилок* (**error detection**) - це такий підхід до виявлення помилок, при якому повідомлення надсилаються повторно до тих пір, поки їх корректний варіант не буде прийнято.

Більш потужніший варіант - механізм *виправлення помилок* (error correction). Обидва механізми додають додаткову інформацію до пакетів, і реалізується на нижніх рівнях мережі.

Роутінг (**routing**) - інша проблема стійкості, оскільки шлях який проходять пакети може бути будь-яким, а у великій мережі не надійних компонентів, деякі з вузлів можуть бути раптово недоступні.

Друга фундоментальна проблема пов'язана з еволюцією та ростом глобальної мережі.
У той час як нові локальні мережі з'являються, з новою структурою та дизайном, 
їх так само потрібно підключати до існуючої мережі. Для вирішення цієї проблема
задіяні певні механізми.

Вище ми розглянули те яким чином рівні спілкуються між собою за допомогою протоколів, 
тому техніку адресації або найменування (**addressing or naming**) нам вже відома.
